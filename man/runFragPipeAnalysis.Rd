% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/runFragPipeAnalysis.R
\name{runFragPipeAnalysis}
\alias{runFragPipeAnalysis}
\title{Run analysis on FragPipe data}
\usage{
runFragPipeAnalysis(
  templateRmd = system.file("extdata/process_FragPipe_template.Rmd", package =
    "einprot"),
  outputDir = ".",
  outputBaseName = "FragPipeAnalysis",
  reportTitle = "FragPipe LFQ data processing",
  reportAuthor = "",
  forceOverwrite = FALSE,
  experimentInfo,
  species,
  fragpipeDir,
  geneIdCol = "Gene",
  proteinIdCol = "Protein.ID",
  primaryIdType = "gene",
  iColPattern,
  sampleAnnot,
  includeOnlySamples,
  excludeSamples,
  minScore = 10,
  minPeptides = 2,
  imputeMethod = "MinProb",
  mergeGroups = list(),
  comparisons = list(),
  ctrlGroup = "",
  allPairwiseComparisons = TRUE,
  singleFit = FALSE,
  subtractBaseline = FALSE,
  baselineGroup = "",
  normMethod = "none",
  stattest = "limma",
  minNbrValidValues = 2,
  minlFC = 0,
  nperm = 250,
  volcanoAdjPvalThr = 0.05,
  volcanoLog2FCThr = 1,
  volcanoMaxFeatures = 25,
  volcanoS0 = 0.1,
  volcanoFeaturesToLabel = "",
  addInteractiveVolcanos = FALSE,
  complexFDRThr = 0.1,
  maxNbrComplexesToPlot = Inf,
  seed = 42,
  includeFeatureCollections,
  minSizeToKeepSet = 2,
  customComplexes = list(),
  complexSpecies = "all",
  complexDbPath,
  customYml = NULL,
  doRender = TRUE
)
}
\arguments{
\item{templateRmd}{Path to the template Rmd. Typically does not need to
be modified.}

\item{outputDir}{Path to a directory where all output files will be
written. Will be created if it doesn't exist.}

\item{outputBaseName}{Character string providing the 'base name' of the
output files. All output files will start with this prefix.}

\item{reportTitle, reportAuthor}{Character scalars, giving the title and
author for the result report.}

\item{forceOverwrite}{Logical, whether to force overwrite an existing
Rmd file with the same \code{outputBaseName} in the \code{outputDir}.}

\item{experimentInfo}{Named list with information about the experiment.
Each entry of the list must be a scalar value.}

\item{species}{Character scalar providing the species. Must be one of the
supported species (see \code{getSupportedSpecies()}).}

\item{fragpipeDir}{Character string pointing to the FragPipe output folder.
Must contain files <fragpipeDir>/combined_protein.tsv,
<fragpipeDir>/fragpipe_*.config and
<fragpipeDir>/log_*.txt}

\item{geneIdCol, proteinIdCol}{Character strings pointing to columns of the
FragPipe file corresponding to gene and protein identifiers,
respectively. The \code{geneIdCol} values will be matched against
annotated complexes and/or GO terms (if applicable).}

\item{primaryIdType}{Character string, either \code{"gene"} or
\code{"protein"}, indicating whether the gene or protein IDs should be
used as the primary feature identifiers (the row names of the
generated object). If the primary ID is not unique, the other identifier
will be used for disambiguation.}

\item{iColPattern}{Regular expression identifying the columns of the FragPipe
\code{combined_protein.tsv} file to use for the analysis. Typically
"\\\\.MaxLFQ\\\\.Intensity$"}

\item{sampleAnnot}{A \code{data.frame} with at least columns named
\code{sample} and \code{group}, used to explicitly specify the group
assignment for each sample. It can also contain a column named
\code{batch}, in which case this will be used as a covariate in
the \code{limma} tests.}

\item{includeOnlySamples, excludeSamples}{Character vectors defining specific
samples to include or exclude from all analyses.}

\item{minScore}{Numeric, minimum score for a protein to be retained in the
analysis.}

\item{minPeptides}{Numeric, minimum number of peptides for a protein to be
retained in the analysis.}

\item{imputeMethod}{Character string defining the imputation method to use.}

\item{mergeGroups}{Named list of character vectors defining sample groups
to merge to create new groups, that will be used for comparisons.
Any specification of \code{comparisons} or \code{ctrlGroup} should
be done in terms of the new (merged) group names.}

\item{comparisons}{List of character vectors defining comparisons to
perform. The first element of each vector represents the
denominator of the comparison. If not empty, \code{ctrlGroup} and
\code{allPairwiseComparisons} are ignored.}

\item{ctrlGroup}{Character scalar defining the sample group to use as
control group in comparisons.}

\item{allPairwiseComparisons}{Logical, should all pairwise comparisons be
performed?}

\item{singleFit}{Logical scalar indicating whether a single model fit
should be used (and results for pairwise comparisons extracted via
contrasts). If \code{FALSE}, the data set will be subset to the
relevant samples for each comparison. Only applicable if
\code{stattest} is \code{"limma"}.}

\item{subtractBaseline}{Logical scalar, whether to subtract the background/
reference value for each feature in each batch before fitting the
model. If \code{TRUE}, requires that a 'batch' column is available.}

\item{baselineGroup}{Character scalar representing the reference group.
Only used if \code{subtractBaseline} is \code{TRUE}, in which case the
abundance values for a given sample will be adjusted by subtracting the
average value across all samples in the \code{baselineGroup} from the
same batch as the original sample.}

\item{normMethod}{Character scalar indicating the normalization method to
use.}

\item{stattest}{Either \code{"ttest"} or \code{"limma"}, the testing
framework to use.}

\item{minNbrValidValues}{Numeric, the minimum number of valid values for a
protein to be used for statistical testing.}

\item{minlFC}{Numeric, minimum log fold change to test against (only used
if \code{stattest = "limma"}).}

\item{nperm}{Numeric, number of permutations to use in the statistical
testing (only used if \code{stattest = "ttest"}).}

\item{volcanoAdjPvalThr}{Numeric, adjusted p-value threshold to determine
which proteins to highlight in the volcano plots.}

\item{volcanoLog2FCThr}{Numeric, log-fold change threshold to determine
which proteins to highlight in the volcano plots.}

\item{volcanoMaxFeatures}{Numeric, maximum number of significant features
to label in the volcano plots.}

\item{volcanoS0}{Numeric, S0 value to use to generate the significance
curve in the volcano plots (only used if \code{stattest = "ttest"}).}

\item{volcanoFeaturesToLabel}{Character vector with features to always
label in the volcano plots (regardless of significance).}

\item{addInteractiveVolcanos}{Logical scalar indicating whether to add
interactive volcano plots to the html report. For experiments with
many quantified features or many comparisons, setting this to
\code{TRUE} can make the html report very large and difficult to
interact with.}

\item{complexFDRThr}{Numeric, FDR threshold for significance in testing
of complexes.}

\item{maxNbrComplexesToPlot}{Numeric, the maximum number of significant
complexes for which to make separate volcano plots. Defaults to
\code{Inf}, i.e., no limit.}

\item{seed}{Numeric, random seed to use for any non-deterministic
calculations.}

\item{includeFeatureCollections}{Character vector, a subset of
c("complexes", "GO").}

\item{minSizeToKeepSet}{Numeric scalar indicating the smallest number of
features that have to overlap with the current data set in order to
retain a feature set for testing.}

\item{customComplexes}{List of character vectors providing custom complexes
to test for significant differences between groups.}

\item{complexSpecies}{Either \code{"all"} or \code{"current"}, depending
on whether complexes defined for all species, or only those defined
for the current species, should be tested for significance.}

\item{complexDbPath}{Character string providing path to the complex DB
file (generated with \code{makeComplexDB()}).}

\item{customYml}{Character string providing the path to a custom YAML file
that can be used to overwrite default settings in the report. If set
to \code{NULL} (default), no alterations are made.}

\item{doRender}{Logical scalar. If \code{FALSE}, the Rmd file will be
generated (and any parameters injected), but not rendered.}
}
\value{
Invisibly, the path to the compiled html report.
}
\description{
Run analysis on FragPipe data
}
\author{
Charlotte Soneson
}
