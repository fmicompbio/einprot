% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/runPDTMTAnalysis.R
\name{runPDTMTAnalysis}
\alias{runPDTMTAnalysis}
\title{Run analysis on PD/TMT data}
\usage{
runPDTMTAnalysis(
  templateRmd = system.file("extdata/process_PD_TMT_template.Rmd", package = "einprot"),
  outputDir = ".",
  outputBaseName = "PDTMTAnalysis",
  reportTitle = "PD data processing",
  reportAuthor = "",
  forceOverwrite = FALSE,
  experimentInfo,
  species,
  pdOutputFolder,
  pdResultName,
  pdAnalysisFile,
  aName,
  iColPattern,
  sampleAnnot,
  includeOnlySamples,
  excludeSamples,
  minScore = 2,
  minPeptides = 2,
  imputeMethod = "MinProb",
  mergeGroups = list(),
  comparisons = list(),
  ctrlGroup = "",
  allPairwiseComparisons = TRUE,
  normMethod = "none",
  stattest = "limma",
  minNbrValidValues = 2,
  minlFC = 0,
  nperm = 250,
  volcanoAdjPvalThr = 0.05,
  volcanoLog2FCThr = 1,
  volcanoMaxFeatures = 25,
  volcanoS0 = 0.1,
  volcanoFeaturesToLabel = "",
  addInteractiveVolcanos = FALSE,
  complexFDRThr = 0.1,
  maxNbrComplexesToPlot = 10,
  seed = 42,
  includeFeatureCollections,
  customComplexes = list(),
  complexSpecies = "all",
  complexDbPath,
  customYml = NULL,
  doRender = TRUE,
  generateQCPlot = TRUE
)
}
\arguments{
\item{templateRmd}{Path to the template Rmd. Typically does not need to
be modified.}

\item{outputDir}{Path to a directory where all output files will be
written. Will be created if it doesn't exist.}

\item{outputBaseName}{Character string providing the 'base name' of the
output files. All output files will start with this prefix.}

\item{reportTitle, reportAuthor}{Character scalars, giving the title and
author for the result report.}

\item{forceOverwrite}{Logical, whether to force overwrite an existing
Rmd file with the same \code{outputBaseName} in the \code{outputDir}.}

\item{experimentInfo}{Named list with information about the experiment.
Each entry of the list must be a scalar value.}

\item{species}{Character scalar providing the species. Must be one of the
supported species (see \code{getSupportedSpecies()}).}

\item{pdOutputFolder}{Character string pointing to the PD/TMT output folder.
Should contain the files \code{pdResultName_InputFiles.txt},
\code{pdResultName_StudyInformation.txt} and
\code{pdResultName_Proteins.txt}. In order to generate the stand-alone
pdf file with QC metrics, additionally the following files should
be present:
\code{pdResultName_PSMs.txt}, \code{pdResultName_PeptideGroups.txt},
\code{pdResultName_MSMSSpectrumInfo.txt},
\code{pdResultName_QuanSpectra.txt}.}

\item{pdResultName}{Character string providing the base name for the
files in the \code{pdOutputFolder}.}

\item{pdAnalysisFile}{Character string pointing to the \code{pdAnalysis}
file}

\item{aName}{Character string providing the desired name of the base assay
in the output \code{SingleCellExperiment} object.}

\item{iColPattern}{Regular expression identifying the columns of the PD
\code{Proteins.txt} file to use for the analysis.}

\item{sampleAnnot}{A \code{data.frame} with at least columns named
\code{sample} and \code{group}, used to explicitly specify the group
assignment for each sample. It can also contain a column named
\code{batch}, in which case this will be used as a covariate in
the \code{limma} tests.}

\item{includeOnlySamples, excludeSamples}{Character vectors defining specific
samples to include or exclude from all analyses.}

\item{minScore}{Numeric, minimum score for a protein to be retained in the
analysis.}

\item{minPeptides}{Numeric, minimum number of peptides for a protein to be
retained in the analysis.}

\item{imputeMethod}{Character string defining the imputation method to use.}

\item{mergeGroups}{Named list of character vectors defining sample groups
to merge to create new groups, that will be used for comparisons.
Any specification of \code{comparisons} or \code{ctrlGroup} should
be done in terms of the new (merged) group names.}

\item{comparisons}{List of character vectors defining comparisons to
perform. The first element of each vector represents the
denominator of the comparison. If not empty, \code{ctrlGroup} and
\code{allPairwiseComparisons} are ignored.}

\item{ctrlGroup}{Character vector defining the sample group(s) to use as
control group in comparisons.}

\item{allPairwiseComparisons}{Logical, should all pairwise comparisons be
performed?}

\item{normMethod}{Character scalar indicating the normalization method to
use.}

\item{stattest}{Either \code{"ttest"} or \code{"limma"}, the testing
framework to use.}

\item{minNbrValidValues}{Numeric, the minimum number of valid values for a
protein to be used for statistical testing.}

\item{minlFC}{Numeric, minimum log fold change to test against (only used
if \code{stattest = "limma"}).}

\item{nperm}{Numeric, number of permutations to use in the statistical
testing (only used if \code{stattest = "ttest"}).}

\item{volcanoAdjPvalThr}{Numeric, adjusted p-value threshold to determine
which proteins to highlight in the volcano plots.}

\item{volcanoLog2FCThr}{Numeric, log-fold change threshold to determine
which proteins to highlight in the volcano plots.}

\item{volcanoMaxFeatures}{Numeric, maximum number of significant features
to label in the volcano plots.}

\item{volcanoS0}{Numeric, S0 value to use to generate the significance
curve in the volcano plots (only used if \code{stattest = "ttest"}).}

\item{volcanoFeaturesToLabel}{Character vector with features to always
label in the volcano plots (regardless of significance).}

\item{addInteractiveVolcanos}{Logical scalar indicating whether to add
interactive volcano plots to the html report. For experiments with
many quantified features or many comparisons, setting this to
\code{TRUE} can make the html report very large and difficult to
interact with.}

\item{complexFDRThr}{Numeric, FDR threshold for significance in testing
of complexes.}

\item{maxNbrComplexesToPlot}{Numeric, the maximum number of significant
complexes for which to make separate volcano plots.}

\item{seed}{Numeric, random seed to use for any non-deterministic
calculations.}

\item{includeFeatureCollections}{Character vector, a subset of
c("complexes", "GO").}

\item{customComplexes}{List of character vectors providing custom complexes
to test for significant differences between groups.}

\item{complexSpecies}{Either \code{"all"} or \code{"current"}, depending
on whether complexes defined for all species, or only those defined
for the current species, should be tested for significance.}

\item{complexDbPath}{Character string providing path to the complex DB
file (generated with \code{makeComplexDB()}).}

\item{customYml}{Character string providing the path to a custom YAML file
that can be used to overwrite default settings in the report. If set
to \code{NULL} (default), no alterations are made.}

\item{doRender}{Logical scalar. If \code{FALSE}, the Rmd file will be
generated (and any parameters injected), but not rendered.}

\item{generateQCPlot}{Logical scalar, indicating whether to generate a
separate QC plot (summarizing the peptide-level data).}
}
\value{
Invisibly, the path to the compiled html report.
}
\description{
Run analysis on PD/TMT data
}
\author{
Charlotte Soneson
}
